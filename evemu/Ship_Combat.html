<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.evemu.org/index.php/Ship_Combat by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Aug 2015 15:58:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Ship Combat - EVEmu Wiki</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.19.1" />
<link rel="shortcut icon" href="http://wiki.evemu.org/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.evemu.org/opensearch_desc.php" title="EVEmu Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.evemu.org/api.php?action=rsd" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="EVEmu Wiki Atom feed" href="http://wiki.evemu.org/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.evemu.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: evemu_wiki-pubwiki_:resourceloader:filter:minify-css:7:c88e2bcd56513749bec09a7e29cb3ffa */
</style>

<script src="http://wiki.evemu.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Ship_Combat","wgTitle":"Ship Combat","wgCurRevisionId":776,"wgArticleId":35,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Game Operation"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgRelevantPageName":"Ship_Combat","wgRestrictionEdit":[],"wgRestrictionMove":[],"wgVectorEnabledModules":{"collapsiblenav":true,"collapsibletabs":true,"editwarning":false,"expandablesearch":false,"footercleanup":false,"sectioneditlinks":false,"simplesearch":true,"experiments":true},"wgWikiEditorEnabledModules":{"toolbar":false,"dialogs":false,"hidesig":true,"templateEditor":false,"templates":false,"preview":false,"previewDialog":false,"publish":false,"toc":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"vector-simplesearch":1,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function($){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});

/* cache key: evemu_wiki-pubwiki_:resourceloader:filter:minify-js:7:66a938cc0955964f33213004042d63fb */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Ship_Combat skin-vector action-view">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content" class="mw-body">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">
				<span dir="auto">Ship Combat</span>
			</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">From EVEmu Wiki</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav" class="mw-jump">
					Jump to: <a href="#mw-head">navigation</a>,
					<a href="#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table class="wikitable">

<tr>
<td> <b>NAVIGATION</b>
</td>
<td> <a href="Main_Page.html" title="Main Page">HOME</a> / <a href="Category_Game_Operation.html" title="Category:Game Operation">Game Operation</a> / <b>Ship Combat</b> (you are here)
</td></tr></table>
<p><br />
</p>
<table style="float: right;">
<tr>
<td> <table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#SHIP_AND_OTHER_VESSEL.2FSTRUCTURE_COMBAT_WORK"><span class="tocnumber">1</span> <span class="toctext">SHIP AND OTHER VESSEL/STRUCTURE COMBAT WORK</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#SPACE_OPERATIONS"><span class="tocnumber">1.1</span> <span class="toctext">SPACE OPERATIONS</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Sources"><span class="tocnumber">1.1.1</span> <span class="toctext">Sources</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-4"><a href="#TARGETING"><span class="tocnumber">1.2</span> <span class="toctext">TARGETING</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#DAMAGE"><span class="tocnumber">1.3</span> <span class="toctext">DAMAGE</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#EFFECTS"><span class="tocnumber">1.4</span> <span class="toctext">EFFECTS</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#DEATH"><span class="tocnumber">1.5</span> <span class="toctext">DEATH</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
</td></tr></table>
<h1> <span class="mw-headline" id="SHIP_AND_OTHER_VESSEL.2FSTRUCTURE_COMBAT_WORK"> SHIP AND OTHER VESSEL/STRUCTURE COMBAT WORK </span></h1>
<p>An equation to test LaTeX:
</p><p><span class="tex2jax_ignore">
&lt;math&gt;
\operatorname{erfc}(x) =
\frac{2}{\sqrt{\pi}} \int_x^{\infty} e^{-t^2}\,dt =
\frac{e^{-x^2}}{x\sqrt{\pi}}\sum_{n=0}^\infty (-1)^n \frac{(2n)!}{n!(2x)^{2n}}
&lt;/math&gt;
</span>
</p><p><br />
</p>
<h2> <span class="mw-headline" id="SPACE_OPERATIONS"> SPACE OPERATIONS </span></h2>
<ul><li> Accurate Positioning: since we cannot emulate destiny ship movement calculations exactly we mave have to force a '/syncloc' on every ship object (exclude drones) at some interval of destiny ticks with the first interval counting ticks from the moment the DestinyManager instance for that ship was created
</li><li> Collisions: we need to implement purely elastic 3D collisions that conserve momentum on both parties involved and ONLY with ships.  The collision should calculate a vector of travel along which a GoToDirection() action is forced with a speed calculated from the conservation of momentum.  The previous active ship movement should be queued as the collision is detected then on the next tick after the collision's GoToDirection is ordered, thae queued action should immediately resume.  At this time, to ensure accurate positioning of both ships involved, issue a '/synloc' on both ships.
<ul><li> Collision Detection: The only way to detect collisions is to query distance to and radius of every collidable object in the current bubble, on every destiny tick.  Then if the result of distance is &lt;= to other object radius plus this ship's radius then a collision is detected.
</li><li> Do all this and see how bad the /syncloc results are after a bunch of different collisions at different speeds for both ships.  Also, evaluate the increase in load on the cpu by the server.
</li></ul>
</li></ul>
<p><br />
</p>
<h3> <span class="mw-headline" id="Sources"> Sources </span></h3>
<ul><li> <a rel="nofollow" class="external text" href="http://wiki.eveonline.com/en/wiki/Aligning">Aligning</a>
</li></ul>
<ul><li> <a rel="nofollow" class="external text" href="http://eve.allakhazam.com/wiki/EVE_Guide_Top_Speed_Calculation_Guide">Max Velocity</a>
</li></ul>
<h2> <span class="mw-headline" id="TARGETING"> TARGETING </span></h2>
<ul><li> Initiating a Target Lock: Evemu should support the following aspects of targeting:
<ul><li> Attempt to Lock Target - receive packet, check max targeting distance attribute of ship, and if within that distance to target, proceed to lock target, send target lock packets to aggressor and targeted ship clients
</li><li> Unlock Target - when requested by aggressor, this should happen immediately
<ul><li> Loss of Target Lock
<ul><li> when a target travels beyond the max targeting range of the aggressor, that target's lock will be lost immediately
</li><li> when the aggressor jumps a gate, when the aggressor docks in a station, when the aggressor becomes jammed by another ship, ALL targets' locks will be lost
</li></ul>
</li></ul>
</li></ul>
</li></ul>
<p><br />
</p>
<h2> <span class="mw-headline" id="DAMAGE"> DAMAGE </span></h2>
<ul><li> we need to make application of damage to ships, drones, modules, and structures work
<ul><li> Damage.cpp file holds all the work so far.  Should this be separated out to each class' cpp file?
<ul><li> Adequately document the procedure for applying damage to a target object
</li><li> Tracking attributes and sensor attributes must be used to determine the probability that a target is actually hit with a weapon and the weapon and charge attributes must be used to determine how much damage points and which of the four types are actually applied to the target object
</li></ul>
</li></ul>
</li></ul>
<p><br />
</p>
<h2> <span class="mw-headline" id="EFFECTS"> EFFECTS </span></h2>
<ul><li> we need to consider how effects are applied to a target object since no damage is involved in this process, only changes in either ship attributes or ship state (speed, warp ability, cloak, others?)
<ul><li> we need a message passing mechanism that can pass information on an effect and really a message that contains an array of 1 or more effects that an aggressor ship is applying to a target object
<ul><li> INFO:
<ul><li> aggressor shipID
</li><li> effectID or pointer to effect class for that effectID
</li><li> specific data regarding how said effect applies to target (list of attribute modifiers?)
</li></ul>
</li></ul>
</li></ul>
</li></ul>
<p><br />
</p>
<h2> <span class="mw-headline" id="DEATH"> DEATH </span></h2>
<ul><li> we need to make ship, drone, structure explosions work in the client
<ul><li> when deemed to happen, the item should be destroyed in memory and database along with its inventory but before that is done, the wreck should be spawned and its inventory filled with the randomly selected list of inventory items for the 'loot drop'
<ul><li> how do we know which wreck ID matches the ship, structure that was destroyed?
<ul><li> there is no linkage of these typeIDs in the database, so we'll have to create them in our own database table.  there are 279 entries in 'invTypes' with 'wreck' in description.. not that bad&#160;:/
</li></ul>
</li></ul>
</li><li> Kill mails: we need to create a system that creates properly formatted kill mails and delivers them to the players and i imagine they are all stored in the database too so they can be retreived via API keys for out-of-game <a href="Out_of_Game_Player_Tools.html#EVEmu_Killboard" title="Out of Game Player Tools">killboards</a>
</li></ul>
</li></ul>
<ul><li><ul><li> Capsule death: when capsule is destroyed, NO wreck is spawned, but a corpse with char's name IS then the character whose capsule was destroyed should be moved into a new clone (and capsule with a noob ship) into the station last selected for medical clone, set clone as grade Alpha
<ul><li> we need clone station selection AND clone upgrades to be working to support capsule death
</li></ul>
</li></ul>
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 77/1000000
Post-expand include size: 302/2097152 bytes
Template argument size: 78/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key evemu_wiki-pubwiki_:pcache:idhash:35-0!*!0!!en!*!* and timestamp 20150804155712 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				<div class="printfooter">
				Retrieved from "<a href="http://wiki.evemu.org/index.php?title=Ship_Combat&amp;oldid=776">http://wiki.evemu.org/index.php?title=Ship_Combat&amp;oldid=776</a>"				</div>
				<!-- /printfooter -->
												<!-- catlinks -->
				<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special_Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="Category_Game_Operation.html" title="Category:Game Operation">Game Operation</a></li></ul></div></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
				<!-- debughtml -->
								<!-- /debughtml -->
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
		<li id="pt-anonuserpage"><a href="User_86.57.144.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">86.57.144.126</a></li>
		<li id="pt-anontalk"><a href="User_talk_86.57.144.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
		<li id="pt-anonlogin"><a href="http://wiki.evemu.org/index.php?title=Special:UserLogin&amp;returnto=Ship+Combat" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
	</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="Ship_Combat.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.evemu.org/index.php?title=Talk:Ship_Combat&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
	<h4>
		</h4>
	<h5><span>Variants</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="Ship_Combat.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://wiki.evemu.org/index.php?title=Ship_Combat&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.evemu.org/index.php?title=Ship_Combat&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://wiki.evemu.org/index.php" id="searchform">
				<div>
			<input type="search" name="search" title="Search EVEmu Wiki [f]" accesskey="f" id="searchInput" />			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />					<input type='hidden' name="title" value="Special:Search"/>
		</div>
	</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(../skins/evemu/images/evemu2.png);" href="Main_Page.html"  title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- SEARCH -->

<!-- /SEARCH -->

<!-- EVEmu Wiki -->
<div class="portal" id='p-EVEmu_Wiki'>
	<h5>EVEmu Wiki</h5>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-Connect"><a href="EVEmu_Connect.html">Connect</a></li>
			<li id="n-Templates"><a href="Category_Templates.html">Templates</a></li>
			<li id="n-currentevents"><a href="EVEmu_Wiki_Current_events.html" title="Find background information on current events">Current events</a></li>
			<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="EVE_Protocol.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="Help_Contents.html" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>

<!-- /EVEmu Wiki -->

<!-- EVEmu Sites -->
<div class="portal" id='p-EVEmu_Sites'>
	<h5>EVEmu Sites</h5>
	<div class="body">
		<ul>
			<li id="n-Forums"><a href="http://forum.evemu.org/" rel="nofollow">Forums</a></li>
			<li id="n-Source-Code-.28Github.29"><a href="https://github.com/evemuproject" rel="nofollow">Source Code (Github)</a></li>
			<li id="n-Pastebin"><a href="http://www.levelbelow.net/pastebin" rel="nofollow">Pastebin</a></li>
			<li id="n-Trac-.28old.29"><a href="http://trac.evemu.org/" rel="nofollow">Trac (old)</a></li>
		</ul>
	</div>
</div>

<!-- /EVEmu Sites -->

<!-- TOOLBOX -->
<div class="portal" id='p-tb'>
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Ship_Combat.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Ship_Combat.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li><a href="http://wiki.evemu.org/index.php?title=Ship_Combat&amp;printable=yes" rel="alternate">Printable version</a></li>
			<li id="t-permalink"><a href="http://wiki.evemu.org/index.php?title=Ship_Combat&amp;oldid=776" title="Permanent link to this revision of the page">Permanent link</a></li>
		</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 4 August 2013, at 02:54.</li>
											<li id="footer-info-viewcount">This page has been accessed 2,657 times.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a>.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="EVEmu_Wiki_Privacy_policy.html" title="EVEmu Wiki:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="EVEmu_Wiki_About.html" title="EVEmu Wiki:About">About EVEmu Wiki</a></li>
											<li id="footer-places-disclaimer"><a href="EVEmu_Wiki_General_disclaimer.html" title="EVEmu Wiki:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://www.gnu.org/copyleft/fdl.html"><img src="../skins/common/images/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" /></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<script src="http://wiki.evemu.org/load.php?debug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","ext.vector.collapsibleNav","ext.vector.collapsibleTabs","ext.vector.simpleSearch"], null, true);
}</script>
<!-- Served in 0.206 secs. -->
	</body>

<!-- Mirrored from wiki.evemu.org/index.php/Ship_Combat by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Aug 2015 15:58:42 GMT -->
</html>
