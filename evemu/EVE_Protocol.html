<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.evemu.org/index.php/EVE_Protocol by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Aug 2015 15:57:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>EVE Protocol - EVEmu Wiki</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.19.1" />
<link rel="shortcut icon" href="http://wiki.evemu.org/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.evemu.org/opensearch_desc.php" title="EVEmu Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.evemu.org/api.php?action=rsd" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="EVEmu Wiki Atom feed" href="http://wiki.evemu.org/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.evemu.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: evemu_wiki-pubwiki_:resourceloader:filter:minify-css:7:c88e2bcd56513749bec09a7e29cb3ffa */
</style>

<script src="http://wiki.evemu.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"EVE_Protocol","wgTitle":"EVE Protocol","wgCurRevisionId":103,"wgArticleId":55,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgRelevantPageName":"EVE_Protocol","wgRestrictionEdit":[],"wgRestrictionMove":[],"wgVectorEnabledModules":{"collapsiblenav":true,"collapsibletabs":true,"editwarning":false,"expandablesearch":false,"footercleanup":false,"sectioneditlinks":false,"simplesearch":true,"experiments":true},"wgWikiEditorEnabledModules":{"toolbar":false,"dialogs":false,"hidesig":true,"templateEditor":false,"templates":false,"preview":false,"previewDialog":false,"publish":false,"toc":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"vector-simplesearch":1,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function($){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});

/* cache key: evemu_wiki-pubwiki_:resourceloader:filter:minify-js:7:66a938cc0955964f33213004042d63fb */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-EVE_Protocol skin-vector action-view">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content" class="mw-body">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">
				<span dir="auto">EVE Protocol</span>
			</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">From EVEmu Wiki</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav" class="mw-jump">
					Jump to: <a href="#mw-head">navigation</a>,
					<a href="#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><h1> <span class="mw-headline" id="EVE_Protocol"> EVE Protocol </span></h1>
<p>Information about the EVE network protocol.
</p>
<h2> <span class="mw-headline" id="Basic_Protocol"> Basic Protocol </span></h2>
<p>Because they use TCP as the network transport, the on-wire protocol is rather trivial. Basically the stream is made up of 4 bytes of packet length (little endian), followed by that many bytes of packet data.
</p><p>The packet data may be compressed with gzip at this point, and basically you just look at the first byte, and if it is not their "stream marker", then you feed it to gzip and see if you get the stream marker then. The stream marker is a ~ (0x7E). Once extracted, there are four bytes the first of which is a counter used during unmarshaling (so it could be a little endian 4-byte counter, havent seen any evidence either way). After that, you get a "blue" marshaled stream. 
</p>
<h2> <span class="mw-headline" id="Marshaling"> Marshaling </span></h2>
<p>The marshaling scheme is a recursive system basically geared towards taking an arbitrarily complex python object/variable and turning it into a byte stream. This is similar in idea to the binary format Pickling in native python, without the complexities of their mini-machine language stuff, and with special support for a few things.
</p><p>each marshaled "packet" consists of exactly one thing in it, and because of that, the "root" object is almost exclusively some sort of container object, and the contents of that container SHOULD consume all of the remaining bytes in the packet.
</p><p>The EVE client calls some embedded python stuff in blue.dll to do the marshaling/unmarshaling and gets back the python object and does as much as they can in python. EVEmu is currently not going to take this approach, as there is currently no embedded python or anything else in the server.
</p><p>The details of the marshaling strategy are in the code, its not really worth duplicating them here.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 10/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key evemu_wiki-pubwiki_:pcache:idhash:55-0!*!*!!*!*!* and timestamp 20150804155637 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				<div class="printfooter">
				Retrieved from "<a href="http://wiki.evemu.org/index.php?title=EVE_Protocol&amp;oldid=103">http://wiki.evemu.org/index.php?title=EVE_Protocol&amp;oldid=103</a>"				</div>
				<!-- /printfooter -->
												<!-- catlinks -->
				<div id='catlinks' class='catlinks catlinks-allhidden'></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
				<!-- debughtml -->
								<!-- /debughtml -->
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
		<li id="pt-login"><a href="http://wiki.evemu.org/index.php?title=Special:UserLogin&amp;returnto=EVE+Protocol" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
	</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="EVE_Protocol.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.evemu.org/index.php?title=Talk:EVE_Protocol&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
	<h4>
		</h4>
	<h5><span>Variants</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="EVE_Protocol.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://wiki.evemu.org/index.php?title=EVE_Protocol&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.evemu.org/index.php?title=EVE_Protocol&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://wiki.evemu.org/index.php" id="searchform">
				<div>
			<input type="search" name="search" title="Search EVEmu Wiki [f]" accesskey="f" id="searchInput" />			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />					<input type='hidden' name="title" value="Special:Search"/>
		</div>
	</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(../skins/evemu/images/evemu2.png);" href="Main_Page.html"  title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- SEARCH -->

<!-- /SEARCH -->

<!-- EVEmu Wiki -->
<div class="portal" id='p-EVEmu_Wiki'>
	<h5>EVEmu Wiki</h5>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-Connect"><a href="EVEmu_Connect.html">Connect</a></li>
			<li id="n-Templates"><a href="Category_Templates.html">Templates</a></li>
			<li id="n-currentevents"><a href="EVEmu_Wiki_Current_events.html" title="Find background information on current events">Current events</a></li>
			<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="EVE_Protocol.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="Help_Contents.html" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>

<!-- /EVEmu Wiki -->

<!-- EVEmu Sites -->
<div class="portal" id='p-EVEmu_Sites'>
	<h5>EVEmu Sites</h5>
	<div class="body">
		<ul>
			<li id="n-Forums"><a href="http://forum.evemu.org/" rel="nofollow">Forums</a></li>
			<li id="n-Source-Code-.28Github.29"><a href="https://github.com/evemuproject" rel="nofollow">Source Code (Github)</a></li>
			<li id="n-Pastebin"><a href="http://www.levelbelow.net/pastebin" rel="nofollow">Pastebin</a></li>
			<li id="n-Trac-.28old.29"><a href="http://trac.evemu.org/" rel="nofollow">Trac (old)</a></li>
		</ul>
	</div>
</div>

<!-- /EVEmu Sites -->

<!-- TOOLBOX -->
<div class="portal" id='p-tb'>
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/EVE_Protocol.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/EVE_Protocol.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li><a href="http://wiki.evemu.org/index.php?title=EVE_Protocol&amp;printable=yes" rel="alternate">Printable version</a></li>
			<li id="t-permalink"><a href="http://wiki.evemu.org/index.php?title=EVE_Protocol&amp;oldid=103" title="Permanent link to this revision of the page">Permanent link</a></li>
		</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 29 July 2012, at 05:22.</li>
											<li id="footer-info-viewcount">This page has been accessed 1,073 times.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a>.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="EVEmu_Wiki_Privacy_policy.html" title="EVEmu Wiki:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="EVEmu_Wiki_About.html" title="EVEmu Wiki:About">About EVEmu Wiki</a></li>
											<li id="footer-places-disclaimer"><a href="EVEmu_Wiki_General_disclaimer.html" title="EVEmu Wiki:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://www.gnu.org/copyleft/fdl.html"><img src="../skins/common/images/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" /></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<script src="http://wiki.evemu.org/load.php?debug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","ext.vector.collapsibleNav","ext.vector.collapsibleTabs","ext.vector.simpleSearch"], null, true);
}</script>
<!-- Served in 0.157 secs. -->
	</body>

<!-- Mirrored from wiki.evemu.org/index.php/EVE_Protocol by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Aug 2015 15:57:34 GMT -->
</html>
