<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.evemu.org/index.php/Eve-server by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Aug 2015 15:59:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Eve-server - EVEmu Wiki</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.19.1" />
<link rel="shortcut icon" href="http://wiki.evemu.org/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.evemu.org/opensearch_desc.php" title="EVEmu Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.evemu.org/api.php?action=rsd" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="EVEmu Wiki Atom feed" href="http://wiki.evemu.org/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.evemu.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: evemu_wiki-pubwiki_:resourceloader:filter:minify-css:7:c88e2bcd56513749bec09a7e29cb3ffa */
</style>

<script src="http://wiki.evemu.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Eve-server","wgTitle":"Eve-server","wgCurRevisionId":1036,"wgArticleId":31,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgRelevantPageName":"Eve-server","wgRestrictionEdit":[],"wgRestrictionMove":[],"wgVectorEnabledModules":{"collapsiblenav":true,"collapsibletabs":true,"editwarning":false,"expandablesearch":false,"footercleanup":false,"sectioneditlinks":false,"simplesearch":true,"experiments":true},"wgWikiEditorEnabledModules":{"toolbar":false,"dialogs":false,"hidesig":true,"templateEditor":false,"templates":false,"preview":false,"previewDialog":false,"publish":false,"toc":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"vector-simplesearch":1,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function($){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});

/* cache key: evemu_wiki-pubwiki_:resourceloader:filter:minify-js:7:66a938cc0955964f33213004042d63fb */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Eve-server skin-vector action-view">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content" class="mw-body">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">
				<span dir="auto">Eve-server</span>
			</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">From EVEmu Wiki</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav" class="mw-jump">
					Jump to: <a href="#mw-head">navigation</a>,
					<a href="#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#EVEmu_eve-server_project"><span class="tocnumber">1</span> <span class="toctext"><b>EVEmu eve-server project</b></span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#eve-server.cpp"><span class="tocnumber">2</span> <span class="toctext"><b>eve-server.cpp</b></span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#System-Wide_Resources"><span class="tocnumber">2.1</span> <span class="toctext">System-Wide Resources</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Service_Managers"><span class="tocnumber">2.2</span> <span class="toctext">Service Managers</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Working_with_Service_Managers"><span class="tocnumber">2.2.1</span> <span class="toctext">Working with Service Managers</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="#Major_Game_Features_and_their_Sections_in_eve-server"><span class="tocnumber">2.3</span> <span class="toctext">Major Game Features and their Sections in eve-server</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Global_Constants_Structures"><span class="tocnumber">2.4</span> <span class="toctext">Global Constants Structures</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Conversations_with_Luck_on_eve-server"><span class="tocnumber">3</span> <span class="toctext">Conversations with Luck on eve-server</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="EVEmu_eve-server_project"> <b>EVEmu eve-server project</b> </span></h2>
<p>The eve-server is the primary executable. This project contains the actual program loop during which all server functions are performed. It also contains the code to create those services, that handle everything from docking, to warping, to the market. Probably the most integral part of the evemu source code, the eve-server is where those of you who decide to add to the source code will spend the majority of your time.
</p><p>First off, this is the only one of the projects that actually compiles into anything that we actually use. Some may say that makes it the most important, but all I'll say about it is that it makes it the easiest to work with, because all of the framework necessary to write code for it is already in place in the other projects.
</p><p><br />
</p>
<h2> <span class="mw-headline" id="eve-server.cpp"> <b>eve-server.cpp</b> </span></h2>
<p>This project contains the single most important file in the entire solution: <b>eve-server.cpp</b>. (it's named "eve-server" for a reason&#160;:) ). eve-server.cpp contains the primary loop of the server, which, while the server is running, performs the following tasks:
</p>
<ol><li> Initialize logging, read configuration, connect to database
</li><li> Start API and Image servers
</li><li> Create various <a href="#System-Wide_Resources">system-wide resource objects</a>
</li><li> Register all <a href="#Service_Managers">services</a>
</li><li> Create game memory objects: <a href="http://wiki.evemu.org/index.php?title=Category:Item_Factory&amp;action=edit&amp;redlink=1" class="new" title="Category:Item Factory (page does not exist)">Item Factory</a>, <a href="Category_Module_Manager.html" title="Category:Module Manager">Module Manager</a> effects &amp; info tables
</li><li> LOOP:
<ol><li> Check for incoming packets on the TCP connection
</li><li> If there is an incoming packet, decode it
</li><li> Make the appropriate response
</li><li> Send the response to the client that sent the request
</li><li> Scan through entire <a href="http://wiki.evemu.org/index.php?title=Category:Entity_List&amp;action=edit&amp;redlink=1" class="new" title="Category:Entity List (page does not exist)">Entity List</a> for any items that need actions taken (modules changed, timers expired, etc)
</li><li> Scan through entire list of <a href="#Service_Managers">services</a> to process any actions pending
</li><li> Monitor for Ctrl+C server shutdown command
</li></ol>
</li><li> END LOOP
</li><li> shut down logging, API server, Image server, TCP server
</li><li> close logfile
</li><li> Entity List destructor invokes save-off to database of all modified objects
</li></ol>
<p>That is folks. That's all it does. In fact that's all the entire project does...ever. All of your coding that you will more than likely be doing will be focused solely on number 3. 1, 2, and 4 are pretty much done, and unless you're doing some serious revision of the entire server structure, or just like breaking things, you'll probably never touch them. Fortunately for you, 3 covers an immense amount of code. In fact, it is almost all of the server code. Basically, number 3 is broken into various service managers. Service Managers are discussed later in this article.
</p><p>So that is basically how the eve server in its entirety functions. A call is received from the client, processed by the appropriate service manager/service, and a response is sent. During that time, all manner of things can happen. The general structure of the code is as follow:
</p><p>Service Managers and their associated services are found in code files called SomethingService.cpp or SomethingServiceMgr.cpp.
Anything that requests information from the evemu database is found in code files named SomethingDB.cpp.
Things just named Something.cpp contain data structures and the actual code behind a service call. What you will usually see is that the service call, like Handle_Add, will have statements to make sure that it can decode the arguments passed to it by the client. Once that is affirmed, the Handle_Something function will usually call a (usually protected) function that actually executes whatever the service is supposed to do.
The rest of the stuff are helper functions, such as packet decodes, query formatters and so on.
Here is pseudocode of what eve-server.cpp does and what happens inside:
</p>
<pre>At start-up, print splash info on Copyright, licensing, EvE client version
Set current time
Load server configuration from local eve-server.xml
via eve-server &gt; EVEServerConfig
Load server log settings from local log.ini
via common? &gt; LogNew
Connect to evemu mysql database using info from local eve-server.xml
via common? &gt; DBcore
Create the DGM Type Attribute Manager
via eve-server &gt; dgmtypeattributemgr
Start the TCP server
via eve-common &gt; EVETCPServer -and- common? &gt; TCPServer
Make the Item Factory
via eve-server &gt; ItemFactory
Create the main Service Manager
via eve-server &gt; PyServiceMgr
Create the Command Dispatcher object
via eve-server &gt; CommandDispatcher
Register all commands
via eve-server &gt; AllCommands.h
Register all services (see the List of Service Managers below for a complete list)
via eve-server &gt; PyServiceMgr
Cache Database Tables using Object Cache Service
via eve-server &gt; ObjCacheService
Set Server to ONLINE
via eve-server &gt; PyServiceMgr
ENTER MAIN LOOP:
----Set current time and Get tick count
----Check TCP Server's TCP connection stack for the presence of any new TCP connections from EvE clients
----Add new TCP connection from the TCP Server's TCP connection stack onto the Entity list (list of clients connected to evemu server)
----via eve-server &gt; EntityList &gt; Add()
----Process Entity List - run through list of all Clients connected to evemu server
----via eve-server &gt; EntityList &gt; Process()
----Process Service List - run through list of all services registered with PyServiceMgr?
----via eve-server &gt; PyServiceMgr
----Get tick count again, calculate remaining time for thread sleep and SLEEP that time using Sleep()
----IF Server receives SHUTDOWN signal (Ctrl-C, I think), EXIT MAIN LOOP 
END LOOP
Close TCP Server
Set Server to OFFLINE
Close Log file
EXIT MAIN - ends program execution
</pre>
<h3> <span class="mw-headline" id="System-Wide_Resources"> System-Wide Resources </span></h3>
<p>eve-server contains many "singleton" objects that have exactly one and only one instance throughout the entire server.  These objects are singular resources for system-wide access and functions that anything anywhere in the server code base may need access to for various reasons, such as posting a log message to the main server log, accessing the server's database connection to the <a href="http://wiki.evemu.org/index.php?title=Category:EVEmu_Database&amp;action=edit&amp;redlink=1" class="new" title="Category:EVEmu Database (page does not exist)">EVEmu Database</a>, or any number of in-memory database objects for the <a href="http://wiki.evemu.org/index.php?title=Category:ModuleManager&amp;action=edit&amp;redlink=1" class="new" title="Category:ModuleManager (page does not exist)">Module Manager</a> or other critical services in the code base.
</p><p>Here is a list of the current system-wide singleton objects available anywhere in the codebase using the shown mnemonic:
</p>
<table class="wikitable">
<tr>
<th> Service Object Mnemonic </th>
<th> Description
</th></tr>
<tr>
<td> sMarshalStringTable </td>
<td>
</td></tr>
<tr>
<td> sDatabase </td>
<td>
</td></tr>
<tr>
<td> sLog </td>
<td>
</td></tr>
<tr>
<td> sAPIServer </td>
<td>
</td></tr>
<tr>
<td> sImageServer </td>
<td>
</td></tr>
<tr>
<td> sDGM_Effects_Table </td>
<td>
</td></tr>
<tr>
<td> sDGM_Skill_Bonus_Modifiers_Table </td>
<td>
</td></tr>
<tr>
<td> sDGM_Ship_Bonus_Modifiers_Table </td>
<td>
</td></tr>
<tr>
<td> sDGM_Implant_Bonus_Modifiers_Table </td>
<td>
</td></tr>
<tr>
<td> (other ModuleManager related sDGM_XXXXX_Table objects go here) </td>
<td>
</td></tr>
<tr>
<td> sEntityList </td>
<td>
</td></tr>
<tr>
<td> sConfig </td>
<td>
</td></tr>
<tr>
<td> sLiveUpdateDB </td>
<td>
</td></tr></table>
<h3> <span class="mw-headline" id="Service_Managers"> Service Managers </span></h3>
<p>When the client sends a request to the server, it first sends the service manager name, and then the name of the service, along with a additional arguments like itemID's clientID's...you get the picture. The server decodes the service manager name, then calls upon the appropriate service manager, and passes along the service name and the arguments that go along with it. The service manager takes this and looks through all of the services that it is capable of performing.
</p><p>Once the service has been found, it invokes a new instance of that service, and passes along the arguments, which are processed by the service, and the appropriate response is sent back to the service manager, which sends that to the overall PyServiceManager?, which sends the response to be encoded and send to the TCP connection, where it is the received by the client. If everything went well, you wont see a nice little message called "BeanCount?" pop up in your server window ( unlikely ). If you do, you screwed up somewhere( very likely&#160;:D ).
</p><p>Now, there are service managers for just about everything you can think of. There's a Character service manager, Ship service manager, Certificates service manager, Module service manager, NPC service manager... basically any element in the game that actually DOES anything has a service manager associated with it, because besides service calls, the only thing the client ever sends to the server is errors...which, wait for it...call a service called BeanCount?. There's even a service manager for service managers, called PyServiceMgr?, which handles dispatching service calls from the client to the right service manager. So basically, if you want to figure out why something in the game doesn't work, you need to know 2 things: the service manager name and the service name itself.
</p>
<h4> <span class="mw-headline" id="Working_with_Service_Managers"> Working with Service Managers </span></h4>
<p>Tip: if your implementing a service, to register it with a service manager, you need to use a function called PyCallable_REG_CALL( service manager name, serivce name) otherwise the service manager won't know about your shiny new service&#160;:)
</p><p>Tip: you usually don't need the service manager name though, as you can just search the solution for Handle_[service name] since no two service calls have the same name, or if they do, it will become very apparent that one of them is not what your looking for. For instance, if the client calls Add, and you look for Handle_Add, you may run into a Handle_Add, and realize its under the character creation service manager. Obviously, as it was called when you moved an item into your inventory, this is not what your looking for. Instead you should be looking for something in the InventoryItem? manager or something similar.
</p><p><b>List of Service Managers</b>
</p><p>NOTE: This list shows all Service Managers registered with the EVEmu Server as of revision 952 of the experimental branch
</p><p>TODO: Add one-line descriptions for all service managers
</p>
<dl><dd><b>ClientStatsMgr</b>
</dd><dd><b>AgentMgrService</b>
</dd><dd><b>MissionMgrService</b> - manages player interaction with player missions / giving players missions, accepting, declining, etc
</dd><dd><b>AccountService</b>
</dd><dd><b>UserService</b>
</dd><dd><b>AlertService</b>
</dd><dd><b>AuthService</b>
</dd><dd><b>BillMgrService</b>
</dd><dd><b>BookmarkService</b> - manages player interaction with Bookmarks in all ways, creation, deletion, usage, conversion to cargo item,  etc.
</dd><dd><b>CertificateMgrService</b> - manages player interaction with the Certificates Manager interface, including browsing and awarding of certificates
</dd><dd><b>CharacterService</b>
</dd><dd><b>CharMgrService</b>
</dd><dd><b>ConfigService</b>
</dd><dd><b>LanguageService</b>
</dd><dd><b>CorpMgrService</b>
</dd><dd><b>CorpStationMgrService</b>
</dd><dd><b>CorporationService</b> - manages player interaction Corporation - make corp, dissolve, manage roles of corp members, EVERYTHING in Corp Management window, etc...
</dd><dd><b>CorpRegistryService</b> - manages player interaction players registration of the corporation
</dd><dd><b>LPService</b> - manages player interaction with loyalty points, which he has for certaion faction ingame
</dd><dd><b>DogmaIMService</b>
</dd><dd><b>InvBrokerService</b>
</dd><dd><b>LSCService</b> - Large Scale Chat service
</dd><dd><b>ObjCacheService</b>
</dd><dd><b>LookupService</b> - handles requests to lookup various in-game items, solar systems, characters, corporations and provide an orange auto-link to those resources in the client chat window
</dd><dd><b>VoiceMgrService</b> - manages player interaction EVE in-game voice
</dd><dd><b>ShipService</b>
</dd><dd><b>InsuranceService</b> - manages player interaction with the Eve Ship Insurance and stored insurance contracts in the database
</dd><dd><b>BeyonceService</b>
</dd><dd><b>MapService</b>
</dd><dd><b>OnlineStatusService</b>
</dd><dd><b>Standing2Service</b>
</dd><dd><b>WarRegistryService</b>
</dd><dd><b>FactionWarMgrService</b>
</dd><dd><b>StationService</b> - manages player interaction with bounty, insurance, clone, agents, owerall everthing what can be found in the station
</dd><dd><b>StationSvcService</b>
</dd><dd><b>JumpCloneService</b> - manages player interaction with Jump Clones
</dd><dd><b>KeeperService</b>
</dd><dd><b>DungeonService</b>
</dd><dd><b>SkillMgrService</b> - manages player interaction with the Eve Skills browser and training queue
</dd><dd><b>TutorialService</b> - manages player interaction with the Eve Tutorials
</dd><dd><b>PetitionerService</b> - manages player interaction with petition service from the game master to the player
</dd><dd><b>SlashService</b>
</dd><dd><b>MarketProxyService</b> - this manages the entire Market experience in Eve, anything to do with the Market is done in here (buy orders, sell orders, history, etc)
</dd><dd><b>ContractMgrService</b> - this manages the entire Contracts market in Eve, including Want-to-Sell contracts, Want-to-Buy contracts. Auction contracts, Corporation contracts, and player to player contracts
</dd><dd><b>ReprocessingService</b> - this manages everything to do with using Reprocessing services inside stations
</dd><dd><b>FactoryService</b> - this manages everything to do with Manufacturing items and ships using Industry services inside stations or at POS's with appropriate modules
</dd><dd><b>RamProxyService</b>
</dd><dd><b>PosMgrService</b> - this manages everything to do with Player Owned Stations (POS), shields, automatic defenses, fuel consumption, etc.
</dd><dd><b>NetService</b>
</dd><dd><b>TradeService</b>
</dd><dd><b>charUnboundMgr</b>
</dd><dd><b>Missing Services&#160;????</b>
</dd></dl>
<p><br />
<b>This is a list of service managers that have not even been created to handle parts of the game:</b>
</p>
<pre><b>ScanMgrService</b> - handles the use of the system scanner and scan probes deployed within a solar system
<b>Asteroid Belt spawn service</b>&#160;??
<b>Rat spawn service</b> (could this be the DungeonService?&#160;??) - this would include wormhole rats (Sleepers) as well
<b>Wormhole spawn service</b>
<b>GangMgrService</b> - handles the interaction and collaboration of multiple players through Fleets
<b>Sovereignty service</b>
<b>Planetary Management service</b>
</pre>
<h3> <span class="mw-headline" id="Major_Game_Features_and_their_Sections_in_eve-server"> Major Game Features and their Sections in eve-server </span></h3>
<p>Major Game Feature	 Description
Account?	 Handles account services
Character?	 Handles services and functions related to EVE characters
Chat?	 Handles services and functions related to Chat and EVEmail
Corporation?	 Handles services and functions related to Corporations
Inventory?	 Handles services and functions related to Items, Attributes, Inventory, etc
Manufacturing?	 Handles services and functions related to Manufacturing
Map?	 Handles services and functions related to the EVE universe map
Market?	 Handles services and functions related to the in-game Market
Mining?	 Handles services and functions related to Mining
Missions	 Handles services and functions related to Agents and Missions
NPC	 Handles services and functions related to NPCs
POSMgr	 Handles services and functions related to POS stations
Scanning	 Handles services and functions related to System and Scan Probe Scanning of solar systems
Ship	 Handles services and functions related to Ships, Destiny, Insurance, Modules, Combat, Targeting
Spawn?	 Handles services and functions related to Spawning NPC rats, Asteroid belts, Wormholes, etc
Standing?	 Handles services and functions related to Standings of all kinds, Faction War, Player War
Station	 Handles services and functions related to Station Services
System	 Handles services and functions related to Systems, Dungeons, Celestial objects, Bubble manager, Bookmarks, Scenarios, Solar systems, etc
Trade?	 Handles services and functions related to Inter-player Trading inside stations
Tutorial?	 Handles services and functions related to Tutorials
Client?	 Handles services and functions related to user Clients
ClientSession?	 Handles services and functions related to user Client sessions
EVEmu Coding Aids
</p>
<h3> <span class="mw-headline" id="Global_Constants_Structures"> Global Constants Structures </span></h3>
<p>The constants structures listed below are manually created from queries on the mysql database tables, so when changes are made to the database in these areas, these constants structures would need to be updated. Some of these structures are incomplete and need to be completed.
</p><p>/eve-common/tables/invCategories.h - EVEDB::invCategories:: - type this in a source file in Visual Studio to get an Intellisense drop-down box listing all entries in the 'invCategories' database table as constants that can be used for whatever you need
/eve-common/tables/invGroups.h - EVEDB::invGroups:: - type this in a source file in Visual Studio to get an Intellisense drop-down box listing all entries in the 'invGroups' database table as constants that can be used for whatever you need
/eve-common/network/packet_types.h - EVEItemFlags:: - type this in a source file in Visual Studio to get an Intellisense drop-down box listing all possible values that can be used in the flag field of an inventory item listed in the 'entity' table
/eve-common/tables/invCategories.h - other constants structures listed in this file include MACHONETMSG_TYPE, MACHONETERR_TYPE, EVEItemType (this is incomplete), EVEItemChangeType, EVEContainerTypes, EVERookieShipTypes, EVESkillID (this is incomplete), EVEItemTypeID (this is incomplete), EVERace, EVEStandingEventTypeID, an enum containing account roles with ROLE_ prefixes, a group of Corporation Role flags as static const types and some combinations that are useful such as corpRoleAll that grants all roles, or corpRoleAllContainer that grants access to all corporation containers, EVEEffectID, JournalRefType?, EVEAccountKeys, fmtMappingType, EffectCategories?
There are also a number of itemID value range checking functions to determine if an itemID found in the entity table is an Agent, or a Stargate, or other specific things.
IsAgent?(), IsStaticMapItem?(), IsRegion?(), IsConstellation?(), IsSolarSystem?(), IsUniverseCelestial?(), IsStargate?(), IsStation?(), IsTrading?(), IsOfficeFolder?(), IsFactoryFolder?(), IsUniverseAsteroid?(), IsScenarioItem?()
Object Oriented Design of the EVEmu Server
</p><p>The entire EVEmu server is designed with an object-oriented method. Whether the current implementation is good enough is not the subject of this section, but rather to simply document what that design is.
</p><p>The EVE universe is a single galaxy comprised of Solar Systems, all linked by stargates. Each Solar System contains a Star, planets, moons, stations, and other celestial objects. They also contain ships flown by pilots and ships spawned by the Server, NPC ships belonging to the many legit NPC Corporations or Pirate organizations.
</p><p>CLASS: EntityList - The TOP Object
</p><p>EVEmu's top object is the EntityList?, found in include/eve-server/EntityList.h. This class is a Singleton and so only ONE instance exists. It contains a protected member variable system_list m_systems. This list contains ALL Solar System objects that exist in the universe. It is a std::map&lt;&gt; construct with a uint32 key value and a SystemManager? secondary value. The EntityList? object also contains a list of all clients connected to the EVEmu server via a protected member variable client_list m_clients, which is a std::list&lt;&gt; containing the Client * reference pointers for all clients connected to the server.
</p><p>Important Methods
</p><p>Add(Client client) - call this passing in a pointer to a pointer of a Client object to add clients to the EntityList?
FindOrBootSystem?(uint32 systemID) - call this passing in a uint32 value equal to the solarSystemID from the mapDenormalize table in order to either Find or Boot that solar system. If the referenced solar system has not had its own SystemManager? object created yet since server start, this function will do that, otherwise, the pointer to the referenced solar system SystemManager? object that already exists will be returned.
Broadcast(), Multicast(), Unicast() - These broadcast functions are ways to call Client::SendNotification?() on one or more Client objects referenced in the m_clients list.
FindCharacter?(), FindByShip?(), FindAccount?(), FindByStation?(), FindByRegion?() - These functions serve to find Client reference pointers using characterID, characterName, shipID, accountID, stationID, or regionID, the last two return a std::vector&lt;&gt; list of Client reference pointers.
Warning: Each of these Find functions make use of simple for() loop search methods, so with very largely populated EVE universes, these functions could potentially take a long time to execute, so make very sparse use of them. Consider strongly a more efficient way of finding the Client object of some character or ship piloted by a character BEFORE resorting to using these functions.
CLASS: SystemManager?
</p><p>The SystemManager? class, found in eve-server/system/SystemManager, is the next class object down in the hierarchy, which manages each Solar System. So, as characters log into the server, they enter the game world in specific Solar Systems and if those systems have not been created yet, a SystemManager? object for each of them is created and stored in a list inside the EntityList? as mentioned above. This class object contains a number of things localized to a Solar System and they include a SystemEntity? list in the form of a std::map&lt;&gt; that holds pointers to SystemEntity? objects, each of which are references to objects that exist in that Solar System, a systemID value, a systemName value, a systemSecurity value, its own SpawnManager? object, and its own SystemDB object providing access to the database.
</p><p>NOTES:
Much work is needed to manage Asteroid Belt, NPC ship/fleet, Cosmic Anomaly, and Cosmic Signature spawning in each Solar System. It may be that the SpawnManager? object owned by each SystemManager? object will take care of these spawnings, but the SpawnManager? objects need entries in the 'spawns' and 'spawnGroups' tables in the Database.
NPC ships/fleets need targets when they spawn, especially when a ship warping to a location within a solar system triggers a spawn, as would happen when entering the grid of a Cosmic Signature marking a complex, or an Asteroid Belt spawning rats. So, the SystemManager? should be expanded to hold a list of ships in space, perhaps, and not just a list of SystemEntities?, however, more research into the SystemEntities? classes are necessary to see if scouring the list of those in a solar system, held by the m_entities protected variable will work as a means for a particular NPC ship/fleet to gather a list of targets in its immediate vicinity.
CHANGES
It has been proposed that we make several std::map protected member variables along with Add(), Get(), Find(), and Remove() support functions to separate out different kinds of SystemEntity? objects, such as ships in space, cargo containers, POS modules, drones, NPC ships, asteroids, cosmic signatures and anomalies, and other dynamic objects
Use simple array objects for static objects like NPC stations, stars, planets, moons, stargates
This will make it easier to get lists of targets for NPC ship engagements
Important Methods
</p><p>BootSystem?() - This loads the solar system celestials via the _LoadSystemCelestials() call and loads the system dynamics via the _LoadSystemDynamics() call. There is also code here that loads all spawns and fires up the initial spawn via the SpawnManager?, however, this code is commented out with a note that it makes the "client angry". More research is needed to find out what's going wrong, if anything.
ProcessDestiny?() - This is called once for each Destiny second. More research is needed to determine exactly what this does.
AddClient?() - Add a client to the list of SystemEntity? objects. This would be done if a pilot's ship jumps into this solar system either with a jump capable ship or a stargate.
RemoveClient?() - Removes a client from the list of SystemEntity? objects. This would be done if a pilot's ship jumps out of this solar system either with a jump capable ship or a stargate.
AddNPC() - Adds an NPC SystemEntity? to the SystemEntity? list. This would be done when an NPC ship/fleets spawns or is triggered due to a incoming warp to a location where the spawn is located.
RemoveNPC() - Removes an NPC SystemEntity? from the SystemEntity? list. This would be done when an NPC ship/fleets is destroyed or de-spawns from a location.
AddEntity?() - Adds a generic SystemEntity? object to the list of SystemEntity? objects.
RemoveEntity?() - Removes a generic SystemEntity? object from the list of SystemEntity? objects.
CLASS: SystemEntity?
</p><p>Found in eve-server/system/SystemEntity.h ABSTRACT CLASS&#160;: NO INSTANCES ALLOWED TBD
</p><p>Important Methods
</p><p>TBD
</p><p>CLASS: ItemSystemEntity? derived from SystemEntity?
</p><p>ABSTRACT CLASS&#160;: NO INSTANCES ALLOWED Found in eve-server/system/SystemEntity.h
</p><p>CLASS: DynamicSystemEntity? derived from ItemSystemEntity?
</p><p>ABSTRACT CLASS&#160;: NO INSTANCES ALLOWED Found in eve-server/system/SystemEntity.h
</p><p>CLASS: InanimateSystemEntity? derived from SystemEntity?
</p><p>ABSTRACT CLASS&#160;: NO INSTANCES ALLOWED Found in eve-server/system/SystemEntities.h
</p><p>CLASS: SimpleSystemEntity? derived from InanimateSystemEntity?
</p><p>Found in eve-server/system/SystemEntities.h
</p><p>CLASS: SystemPlanetEntity? derived from SimpleSystemEntity?
</p><p>Found in eve-server/system/SystemEntities.h
</p><p>CLASS: SystemStationEntity? derived from SimpleSystemEntity?
</p><p>Found in eve-server/system/SystemEntities.h
</p><p>CLASS: SystemStargateEntity? derived from SystemStationEntity?
</p><p>Found in eve-server/system/SystemEntities.h
</p><p>CLASS: SystemSimpleEntity? derived from SystemPlanetEntity?
</p><p>Found in eve-server/system/SystemEntities.h
</p><p>CLASS: SystemDungeonEntranceEntity? derived from ItemSystemEntity?
</p><p>Found in eve-server/system/SystemEntities.h
</p><p>CLASS: tbd
</p><p>Found in&#160;???
</p>
<h2> <span class="mw-headline" id="Conversations_with_Luck_on_eve-server"> Conversations with Luck on eve-server </span></h2>
<dl><dd>[14:41] <b>&lt;@AknorJaden_&gt;</b> well, i've been trying to look at different sections of the eve-server to fix little problems like undocking, chats, etc.  but i haven't been able to make sense of the API between the service managers and the eve-common stuff that receives, decodes packets, then encodes and sends packets back to the clients
</dd><dd>[14:42] <b>&lt;@Luck&gt;</b> okay
</dd><dd>[14:42] <b>&lt;@Luck&gt;</b> everything is organized into different types of calls
</dd><dd>[14:42] <b>&lt;@AknorJaden_&gt;</b> i guess it's just that there is SO much stuff
</dd><dd>[14:42] <b>&lt;@AknorJaden_&gt;</b> yeah saw that
</dd><dd>[14:42] <b>&lt;@Luck&gt;</b> lol
</dd><dd>[14:42] <b>&lt;@Luck&gt;</b> each call is expecting a different way to decode the packets
</dd><dd>[14:43] <b>&lt;@Luck&gt;</b> so you declare the object from eve-common
</dd><dd>[14:43] *** DanTheBanjoman has joined #evemu
</dd><dd>[14:43] *** ChanServ sets mode +o DanTheBanjoman
</dd><dd>[14:43] <b>&lt;@AknorJaden_&gt;</b> ok, but i bet there isn't some kind of class diagram for all the object classes in the code base, is there?
</dd><dd>[14:43] <b>&lt;@Luck&gt;</b> call decode on the packet
</dd><dd>[14:43] <b>&lt;@Luck&gt;</b> sure there is
</dd><dd>[14:43] <b>&lt;@AknorJaden_&gt;</b> really?
</dd><dd>[14:43] <b>&lt;@Luck&gt;</b> all of those packet decoding is generated from xml files by the xmlpacketgen project
</dd><dd>[14:43] <b>&lt;@AknorJaden_&gt;</b> yeah, i figured that out at the highest level
</dd><dd>[14:44] <b>&lt;@AknorJaden_&gt;</b> those xmlp files get run through xmlpktgen to create the .h files
</dd><dd>[14:44] <b>&lt;@Luck&gt;</b> yea
</dd><dd>[14:45] <b>&lt;@Luck&gt;</b> so you look at those xml files
</dd><dd>[14:45] <b>&lt;@AknorJaden_&gt;</b> do understand the packet structure, eh?
</dd><dd>[14:45] <b>&lt;@Luck&gt;</b> and you get an idea of what each call does
</dd><dd>[14:45] <b>&lt;@Luck&gt;</b>&#160;?
</dd><dd>[14:45] <b>&lt;@Luck&gt;</b> do i?
</dd><dd>[14:45] <b>&lt;@AknorJaden_&gt;</b> no, lol
</dd><dd>[14:45] <b>&lt;@AknorJaden_&gt;</b> i meant "to", not "do"
</dd><dd>[14:45] <b>&lt;@Luck&gt;</b> oh
</dd><dd>[14:46] <b>&lt;@Luck&gt;</b> yes
</dd><dd>[14:46] <b>&lt;@AknorJaden_&gt;</b> ok
</dd><dd>[14:46] <b>&lt;@Luck&gt;</b> they were all determined by packet sniffing
</dd><dd>[14:48] <b>&lt;@AknorJaden_&gt;</b> ok
</dd><dd>[14:48] <b>&lt;@Luck&gt;</b> so what else do you want to know?
</dd><dd>[14:48] <b>&lt;@AknorJaden_&gt;</b> lol....everything&#160;;)
</dd><dd>[14:49] <b>&lt;@AknorJaden_&gt;</b> maybe i should start from the top: packets come in from the client and are received where?
</dd><dd>[14:50] <b>&lt;@Luck&gt;</b> the TCP connection
</dd><dd>[14:50] <b>&lt;@AknorJaden_&gt;</b> oh right
</dd><dd>[14:50] <b>&lt;@Luck&gt;</b>&#160;:)
</dd><dd>[14:50] <b>&lt;@Luck&gt;</b> they are passed to the PyDispatcher
</dd><dd>[14:51] <b>&lt;@AknorJaden_&gt;</b> ah
</dd><dd>[14:51] <b>&lt;@Luck&gt;</b> which looks at the information contained in the packet that says which service the client is calling
</dd><dd>[14:51] <b>&lt;@AknorJaden_&gt;</b> ok, starting to make sense
</dd><dd>[14:52] <b>&lt;@AknorJaden_&gt;</b> so then it calls that appropriate service, right, such as LSCService for chats/mails?
</dd><dd>[14:52] <b>&lt;@Luck&gt; the dispatcher passes the packet to the required service, and the service dispatcher reads the particular call to it, and if it has a function registered to handle that call, it calls that function</b>
</dd><dd>[14:52] <b>&lt;@Luck&gt;</b> yes
</dd><dd>[14:52] <b>&lt;@Luck&gt;</b> and LSCService looks to see if it has a function to handle the particular call
</dd><dd>[14:52] <b>&lt;@Luck&gt;</b> like Handle_SendMessage
</dd><dd>[14:53] <b>&lt;@Luck&gt;</b> time to commit
</dd><dd>[14:53] <b>&lt;@AknorJaden_&gt;</b> ok
</dd><dd>[14:55] <b>&lt;@AknorJaden_&gt;</b> got it
</dd><dd>[14:59] <b>&lt;@AknorJaden_&gt;</b> so now that the packet has called the right function in the right service, how does the packet info get used (is it the "args" object) and then there's the use of that info to do whatever the function called is supposed to do
</dd><dd>[14:59] <b>&lt;@Luck&gt;</b> you notice that every function called Handle_Something
</dd><dd>[15:00] <b>&lt;@AknorJaden_&gt;</b> yeah, lot's of those, but not all
</dd><dd>[15:00] <b>&lt;@Luck&gt;</b> i mean
</dd><dd>[15:00] <b>&lt;@AknorJaden_&gt;</b> nevermind, pretty much all of em
</dd><dd>[15:00] <b>&lt;@Luck&gt;</b> every function that has a name like that has the same argument
</dd><dd>[15:00] <b>&lt;@Luck&gt;</b> PyCallArgs &amp;args
</dd><dd>[15:00] <b>&lt;@AknorJaden_&gt;</b> yeah, i was just about to type that
</dd><dd>[15:01] <b>&lt;@Luck&gt;</b> not all of them ( there are a few exceptions) but almost all
</dd><dd>[15:01] <b>&lt;@Luck&gt;</b> the first part of the function will declare a call object
</dd><dd>[15:01] <b>&lt;@AknorJaden_&gt;</b> and the value "call" is polymorphic, right?  where PyCallArgs is some kind of base class for all packets?
</dd><dd>[15:01] <b>&lt;@Luck&gt;</b> Call_SendMessage args;
</dd><dd>[15:02] <b>&lt;@Luck&gt;</b> then you use that Call object to decode the PyCallArgs&amp; call
</dd><dd>[15:02] <b>&lt;@Luck&gt;</b> args.Decode( call.tuple )
</dd><dd>[15:02] <b>&lt;@Luck&gt;</b> once you do that, the args object will have the appropirate information in it
</dd><dd>[15:02] <b>&lt;@AknorJaden_&gt;</b> now, what is the call.tuple?
</dd><dd>[15:02] <b>&lt;@AknorJaden_&gt;</b> or don't i care at this point?
</dd><dd>[15:02] <b>&lt;@Luck&gt;</b> call is the PyCallArgs object argument passed to the function
</dd><dd>[15:03] <b>&lt;@Luck&gt;</b> and call.tuple means to decode the tuple inside the PyCallArgs object
</dd><dd>[15:03] <b>&lt;@AknorJaden_&gt;</b> oh, right, duh.  why the tuple attribute?  how come that's not private.  aren't most data members of a class supposed to be private?
</dd><dd>[15:03] <b>&lt;@AknorJaden_&gt;</b> ok
</dd><dd>[15:03] <b>&lt;@Luck&gt;</b> not ones that we want to acces
</dd><dd>[15:03] <b>&lt;@Luck&gt;</b>&#160;:)
</dd><dd>[15:04] <b>&lt;@AknorJaden_&gt;</b> call-&gt;getTuple()  wouldn't be better?
</dd><dd>[15:04] <b>&lt;@AknorJaden_&gt;</b> not so encapsulated
</dd><dd>[15:04] <b>&lt;@Luck&gt;</b> in some respects yes
</dd><dd>[15:04] <b>&lt;@AknorJaden_&gt;</b> ok
</dd><dd>[15:10] <b>&lt;@AknorJaden_&gt;</b> so, then i guess the rest of the story is to go some place in the code to understand *what* is in the args object once it's been decoded, and then start using that info?
</dd><dd>[15:11] <b>&lt;@Luck&gt;</b> it goes to figure out what is in the call object
</dd><dd>[15:11] <b>&lt;@Luck&gt;</b> PyCallArgs &amp;call
</dd><dd>[15:11] <b>&lt;@AknorJaden_&gt;</b> what does, the .Decode() method?
</dd><dd>[15:11] <b>&lt;@Luck&gt;</b> args is the result of the decoded call
</dd><dd>[15:11] <b>&lt;@AknorJaden_&gt;</b> ok
</dd><dd>[15:12] <b>&lt;@Luck&gt;</b> args can then be used normally
</dd><dd>[15:13] <b>&lt;@Captnoord&gt;</b> re
</dd><dd>[15:14] <b>&lt;@AknorJaden_&gt;</b> ok, so args is an object that has data structures inside that contains info for the function called?
</dd><dd>[15:14] <b>&lt;@Captnoord&gt;</b> AknorJaden: the reason for the objects not to have them protected is because of the packet code generator
</dd><dd>[15:14] <b>&lt;@AknorJaden_&gt;</b> you mean xmlpktgen?
</dd><dd>[15:14] <b>&lt;@Captnoord&gt;</b> yup
</dd><dd>[15:14] <b>&lt;@AknorJaden_&gt;</b> ok
</dd><dd>[15:14] <b>&lt;@Captnoord&gt;</b> which is a piece of shit
</dd><dd>[15:15] <b>&lt;@AknorJaden_&gt;</b> LOL
</dd><dd>[15:15] <b>&lt;@Luck&gt;</b> hahaha
</dd><dd>[15:15] <b>&lt;@Luck&gt;</b> he's right
</dd><dd>[15:15] * @Luck waves a Captnoord
</dd><dd>[15:15] <b>&lt;@AknorJaden_&gt;</b> it's ok.  i'm no OOD expert, but i do undedrstand encapsulation
</dd><dd>[15:16] * @Captnoord waves back.....
</dd><dd>[15:17] <b>&lt;@Captnoord&gt;</b> hmmm my girl offers me something I can't ignore.....
</dd><dd>[15:17] <b>&lt;@Captnoord&gt;</b> crap...
</dd><dd>[15:17] <b>&lt;@Captnoord&gt;</b>&#160;:P
</dd><dd>[15:17] <b>&lt;@AknorJaden_&gt;</b> dude, what are you waiting for ....GO
</dd><dd>[15:19] <b>&lt;@Luck&gt;</b> lol
</dd><dd>[15:19] <b>&lt;@Luck&gt;</b> gtfo of here man
</dd><dd>[15:19] <b>&lt;@AknorJaden_&gt;</b> so, luck, when i am in the LSCService, i need to go look at the xmlp files (or more appropriately, the .h files) to find out what stuff is in the decoded args object?
</dd><dd>[15:19] <b>&lt;@Luck&gt;</b> that's one way yes
</dd><dd>[15:20] <b>&lt;@AknorJaden_&gt;</b> ok, is there an easier way?
</dd><dd>[15:20] <b>&lt;@Luck&gt;</b> start typing args.
</dd><dd>[15:20] <b>&lt;@Luck&gt;</b> and see what intellisense tells you is available
</dd><dd>[15:20] <b>&lt;@Luck&gt;</b>&#160;:)
</dd><dd>[15:20] <b>&lt;@Luck&gt;</b> not always accurate though
</dd><dd>[15:20] <b>&lt;@AknorJaden_&gt;</b> where, in the function i'm in?
</dd><dd>[15:20] <b>&lt;@Luck&gt;</b> yea
</dd><dd>[15:21] <b>&lt;@Luck&gt;</b> your better off looking at the Decode() function for that particular call though
</dd><dd>[15:21] <b>&lt;@Luck&gt;</b> oh
</dd><dd>[15:21] <b>&lt;@Luck&gt;</b> if anyone is interested, new commit to the exp branch
</dd><dd>[15:21] <b>&lt;@AknorJaden_&gt;</b> ok, thanks for the tip.  but am i right about going to the .h files under eve-common\include\packets for the source?
</dd><dd>[15:21] <b>&lt;@Luck&gt;</b> no..
</dd><dd>[15:21] <b>&lt;@Luck&gt;</b> go to the .cpp files
</dd><dd>[15:22] <b>&lt;@Luck&gt;</b> well i guess you could go to the .h files
</dd><dd>[15:22] <b>&lt;@AknorJaden_&gt;</b> so, eve-common\src\packets&#160;?
</dd><dd>[15:22] <b>&lt;@Luck&gt;</b> i guess
</dd><dd>[15:22] <b>&lt;@Luck&gt;</b> i look at it in VS
</dd><dd>[15:22] <b>&lt;@Luck&gt;</b> structure is slightly different
</dd><dd>[15:22] <b>&lt;@Luck&gt;</b> wait
</dd><dd>[15:23] <b>&lt;@AknorJaden_&gt;</b> yeah, that's what i meant.  i look at the .h and .cpp files in VS
</dd><dd>[15:23] <b>&lt;@Luck&gt;</b> nvm
</dd><dd>[15:23] <b>&lt;@Luck&gt;</b> kk
</dd><dd>[15:23] <b>&lt;@Luck&gt;</b> yea
</dd><dd>[15:23] <b>&lt;@Luck&gt;</b> eve-common/src/packets
</dd><dd>[15:23] <b>&lt;@Luck&gt;</b> the ability to ban accounts from the server has been added
</dd><dd>[15:23] <b>&lt;@Luck&gt;</b> exp branch rev 975
</dd><dd>[15:23] <b>&lt;@Luck&gt;</b> *974
</dd><dd>[15:25] <b>&lt;@AknorJaden_&gt;</b> cool, i can ban myself from my own solo server LOL
</dd><dd>[15:25] <b>&lt;@Luck&gt;</b> lol
</dd><dd>[15:25] <b>&lt;@Luck&gt;</b> careful
</dd><dd>[15:25] <b>&lt;@Luck&gt;</b> it will kick you
</dd><dd>[15:25] <b>&lt;@AknorJaden_&gt;</b> well duh!
</dd><dd>[15:25] <b>&lt;@Luck&gt;</b> and you won't be able to log back into unban yourself
</dd><dd>[15:25] <b>&lt;@Luck&gt;</b> so you'll have to edit your db
</dd><dd>[15:25] <b>&lt;@AknorJaden_&gt;</b> ah, but i can use phpmyadmin!
</dd><dd>[15:25] <b>&lt;@Luck&gt;</b> fair enough
</dd><dd>[15:25] <b>&lt;@AknorJaden_&gt;</b> hehe
</dd><dd>[15:26] <b>&lt;@Luck&gt;</b> you should read the announcement on the forums about it
</dd><dd>[15:26] <b>&lt;@AknorJaden_&gt;</b> oh, hey that reminds me...eve-server isn't coded to take advantage of multi-core processors is it?
</dd><dd>[15:27] <b>&lt;@AknorJaden_&gt;</b> brb
</dd><dd>[15:29] <b>&lt;@Luck&gt;</b> umm not really
</dd><dd>[15:33] <b>&lt;@Luck&gt;</b> k guys, i g2g deal with some rl shit
</dd><dd>[15:33] <b>&lt;@Luck&gt;</b> i'll ttyl
</dd><dd>[15:33] *** Luck has quit IRC: [MF] Quit: Leaving
</dd><dd>[15:34] <b>&lt;@AknorJaden_&gt;</b> or for that matter, eve-server definitely doesn't run on a server farm either, eh?
</dd></dl>
<hr />
<ol><li> client sends packet to server
</li><li> packet received by TCP section
</li><li> received packets are sent to PyDispatcher
</li><li> PyDispatcher looks at packet info to figure out what service to call
<ol><li> the dispatcher passes the packet to the required service, and the service dispatcher reads the particular call to it, and if it has a function registered to handle that call, it calls that function
</li></ol>
</li></ol>

<!-- 
NewPP limit report
Preprocessor node count: 30/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key evemu_wiki-pubwiki_:pcache:idhash:31-0!*!0!!en!*!* and timestamp 20150804155827 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				<div class="printfooter">
				Retrieved from "<a href="http://wiki.evemu.org/index.php?title=Eve-server&amp;oldid=1036">http://wiki.evemu.org/index.php?title=Eve-server&amp;oldid=1036</a>"				</div>
				<!-- /printfooter -->
												<!-- catlinks -->
				<div id='catlinks' class='catlinks catlinks-allhidden'></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
				<!-- debughtml -->
								<!-- /debughtml -->
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
		<li id="pt-anonuserpage"><a href="User_86.57.144.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">86.57.144.126</a></li>
		<li id="pt-anontalk"><a href="User_talk_86.57.144.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
		<li id="pt-anonlogin"><a href="http://wiki.evemu.org/index.php?title=Special:UserLogin&amp;returnto=Eve-server" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
	</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="Eve-server.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.evemu.org/index.php?title=Talk:Eve-server&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
	<h4>
		</h4>
	<h5><span>Variants</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="Eve-server.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://wiki.evemu.org/index.php?title=Eve-server&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.evemu.org/index.php?title=Eve-server&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://wiki.evemu.org/index.php" id="searchform">
				<div>
			<input type="search" name="search" title="Search EVEmu Wiki [f]" accesskey="f" id="searchInput" />			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />					<input type='hidden' name="title" value="Special:Search"/>
		</div>
	</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(../skins/evemu/images/evemu2.png);" href="Main_Page.html"  title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- SEARCH -->

<!-- /SEARCH -->

<!-- EVEmu Wiki -->
<div class="portal" id='p-EVEmu_Wiki'>
	<h5>EVEmu Wiki</h5>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-Connect"><a href="EVEmu_Connect.html">Connect</a></li>
			<li id="n-Templates"><a href="Category_Templates.html">Templates</a></li>
			<li id="n-currentevents"><a href="EVEmu_Wiki_Current_events.html" title="Find background information on current events">Current events</a></li>
			<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="EVE_Protocol.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="Help_Contents.html" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>

<!-- /EVEmu Wiki -->

<!-- EVEmu Sites -->
<div class="portal" id='p-EVEmu_Sites'>
	<h5>EVEmu Sites</h5>
	<div class="body">
		<ul>
			<li id="n-Forums"><a href="http://forum.evemu.org/" rel="nofollow">Forums</a></li>
			<li id="n-Source-Code-.28Github.29"><a href="https://github.com/evemuproject" rel="nofollow">Source Code (Github)</a></li>
			<li id="n-Pastebin"><a href="http://www.levelbelow.net/pastebin" rel="nofollow">Pastebin</a></li>
			<li id="n-Trac-.28old.29"><a href="http://trac.evemu.org/" rel="nofollow">Trac (old)</a></li>
		</ul>
	</div>
</div>

<!-- /EVEmu Sites -->

<!-- TOOLBOX -->
<div class="portal" id='p-tb'>
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Eve-server.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Eve-server.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="Special_SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li><a href="http://wiki.evemu.org/index.php?title=Eve-server&amp;printable=yes" rel="alternate">Printable version</a></li>
			<li id="t-permalink"><a href="http://wiki.evemu.org/index.php?title=Eve-server&amp;oldid=1036" title="Permanent link to this revision of the page">Permanent link</a></li>
		</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 10 March 2014, at 21:26.</li>
											<li id="footer-info-viewcount">This page has been accessed 3,107 times.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a>.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="EVEmu_Wiki_Privacy_policy.html" title="EVEmu Wiki:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="EVEmu_Wiki_About.html" title="EVEmu Wiki:About">About EVEmu Wiki</a></li>
											<li id="footer-places-disclaimer"><a href="EVEmu_Wiki_General_disclaimer.html" title="EVEmu Wiki:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://www.gnu.org/copyleft/fdl.html"><img src="../skins/common/images/gnu-fdl.png" alt="GNU Free Documentation License 1.3 or later" width="88" height="31" /></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<script src="http://wiki.evemu.org/load.php?debug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","ext.vector.collapsibleNav","ext.vector.collapsibleTabs","ext.vector.simpleSearch"], null, true);
}</script>
<!-- Served in 0.211 secs. -->
	</body>

<!-- Mirrored from wiki.evemu.org/index.php/Eve-server by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Aug 2015 15:59:08 GMT -->
</html>
